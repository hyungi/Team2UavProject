function UAV() {
	//-------------------------------
	this.frameIcon14= {
		path:"M-30.14012510194162,-0.6472990536338017 C-30.14012510194162,-4.36100347511945 -26.9396213477545,-7.369104056522829 -22.988382145054345,-7.369104056522829 C-19.037142942354194,-7.369104056522829 -15.836639188167071,-4.36100347511945 -15.836639188167071,-0.6472990536338017 C-15.836639188167071,3.06640536785185 -19.037142942354194,6.074505949255226 -22.988382145054345,6.074505949255226 C-26.9396213477545,6.074505949255226 -30.14012510194162,3.06640536785185 -30.14012510194162,-0.6472990536338017 z M-6.711553535002267,24.0669865286702 C-6.711553535002267,20.353282107184548 -3.511049780815142,17.34518152578117 0.44018942188500887,17.34518152578117 C4.39142862458516,17.34518152578117 7.5919323787722846,20.353282107184548 7.5919323787722846,24.0669865286702 C7.5919323787722846,27.78069095015585 4.39142862458516,30.788791531559227 0.44018942188500887,30.788791531559227 C-3.511049780815142,30.788791531559227 -6.711553535002267,27.78069095015585 -6.711553535002267,24.0669865286702 z M17.145587020975555,0.20984434846580768 C17.145587020975555,-3.503860073019837 20.346090775162672,-6.51196065442322 24.29732997786283,-6.51196065442322 C28.24856918056298,-6.51196065442322 31.449072934750106,-3.503860073019837 31.449072934750106,0.20984434846580768 C31.449072934750106,3.923548769951452 28.24856918056298,6.931649351354835 24.29732997786283,6.931649351354835 C20.346090775162672,6.931649351354835 17.145587020975555,3.923548769951452 17.145587020975555,0.20984434846580768 z M-7.140127858656442,-24.79015735026657 C-7.140127858656442,-28.50386177175222 -3.939624104469317,-31.511962353155596 0.011615098230834064,-31.511962353155596 C3.962854300930985,-31.511962353155596 7.16335805511811,-28.50386177175222 7.16335805511811,-24.79015735026657 C7.16335805511811,-21.076452928780917 3.962854300930985,-18.06835234737754 0.011615098230834064,-18.06835234737754 C-3.939624104469317,-18.06835234737754 -7.140127858656442,-21.076452928780917 -7.140127858656442,-24.79015735026657 z M-15.496242274669473,0.06630312002640437 L16.634312041951254,0.06630312002640437 M0.28571338525838996,-17.78571321283068 L0.42857052811552876,17.5000010728836 M-25.14285719394684,-0.5714285969734192 C-25.14285719394684,-1.676400972664027 -24.247829569637446,-2.571428596973419 -23.14285719394684,-2.571428596973419 C-22.03788481825623,-2.571428596973419 -21.14285719394684,-1.676400972664027 -21.14285719394684,-0.5714285969734192 C-21.14285719394684,0.5335437787171886 -22.03788481825623,1.4285714030265808 -23.14285719394684,1.4285714030265808 C-24.247829569637446,1.4285714030265808 -25.14285719394684,0.5335437787171886 -25.14285719394684,-0.5714285969734192 z M-1.9999997168779375,-24.85714226961136 C-1.9999997168779375,-25.962114645301966 -1.104972092568545,-26.85714226961136 2.8312206271086104e-7,-26.85714226961136 C1.1049726588126703,-26.85714226961136 2.0000002831220627,-25.962114645301966 2.0000002831220627,-24.85714226961136 C2.0000002831220627,-23.75216989392075 1.1049726588126703,-22.85714226961136 2.8312206271086104e-7,-22.85714226961136 C-1.104972092568545,-22.85714226961136 -1.9999997168779375,-23.75216989392075 -1.9999997168779375,-24.85714226961136 z M22.42857150733471,0.2857148051261902 C22.42857150733471,-0.8192575705644174 23.3235991316441,-1.7142851948738098 24.42857150733471,-1.7142851948738098 C25.533543883025317,-1.7142851948738098 26.42857150733471,-0.8192575705644174 26.42857150733471,0.2857148051261902 C26.42857150733471,1.3906871808167978 25.533543883025317,2.28571480512619 24.42857150733471,2.28571480512619 C23.3235991316441,2.28571480512619 22.42857150733471,1.3906871808167978 22.42857150733471,0.2857148051261902 z M-1.5714304745197296,24.142857044935226 C-1.5714304745197296,23.03788466924462 -0.6764028502103372,22.142857044935226 0.4285695254802704,22.142857044935226 C1.5335419011708782,22.142857044935226 2.4285695254802704,23.03788466924462 2.4285695254802704,24.142857044935226 C2.4285695254802704,25.247829420625834 1.5335419011708782,26.142857044935226 0.4285695254802704,26.142857044935226 C-0.6764028502103372,26.142857044935226 -1.5714304745197296,25.247829420625834 -1.5714304745197296,24.142857044935226 z",
		strokeColor: "#ffff00",
		strokeWeight: 3
	};
	
	this.frameIcon1 = {
		path: "M-18.687340685006784,-1.5817335013455533 c1.9674512342648187,0 3.898696435635948,-0.3318629568211779 5.740427998235915,-0.9864988451838398 c0.601328282485172,-0.21369262818522394 0.9154733934222025,-0.8744912455510628 0.7019348334620616,-1.4758195280362285 c-0.21384669641030368,-0.601328282485172 -0.8747993820012216,-0.915165256972043 -1.4758195280362285,-0.7017807652369785 c-1.5926032426464656,0.5660466589419685 -3.263627211858381,0.8530757622650196 -4.966389235436666,0.8530757622650196 c-8.17670884141755,0 -14.829066663898839,-6.652357822481289 -14.829066663898839,-14.829066663898839 c0,-8.17670884141755 6.652357822481289,-14.829066663898839 14.829066663898839,-14.829066663898839 c8.17670884141755,0 14.829066663898839,6.652357822481289 14.829066663898839,14.829066663898839 c0,1.65684969250461 -0.2719304172652643,3.2847345586942667 -0.8079337723167347,4.838358540395626 c-0.20830024030744249,0.6033311694111978 0.11216166785785422,1.261048422275449 0.715492837269053,1.4691945943578124 c0.6030230329610403,0.20799210385728426 1.2612024905005292,-0.11216166785785422 1.4691945943578124,-0.715492837269053 c0.6199705377197832,-1.7967436408767619 0.9342697168818976,-3.6782248055472304 0.9342697168818976,-5.592214365709465 c0,-9.451007131049833 -7.6889288408159535,-17.140090040090872 -17.140090040090872,-17.140090040090872 S-35.827430725097656,-28.17298474071131 -35.827430725097656,-18.721823541436407 S-28.1385018842817,-1.5817335013455533 -18.687340685006784,-1.5817335013455533 z M-3.8869307109727274,13.035027148393773 c-0.6022526918356425,0.21107346835887283 -0.9194791672742675,0.870177335248842 -0.7085597671404796,1.4725840953095601 c0.5509479728841846,1.573190646286454 0.8304277331783406,3.2226450639872417 0.8304277331783406,4.902450922028685 c0,8.17670884141755 -6.652357822481289,14.829066663898839 -14.829066663898839,14.829066663898839 c-8.17670884141755,0 -14.829066663898839,-6.652357822481289 -14.829066663898839,-14.829066663898839 c0,-8.17670884141755 6.652357822481289,-14.829066663898839 14.829066663898839,-14.829066663898839 c1.6793436533662076,0 3.328644002841916,0.2793256920690792 4.902450922028685,0.8304277331783406 c0.6027148965108866,0.21091940013379387 1.2615106269506882,-0.10630707530483455 1.4724300270844806,-0.7087138353655569 c0.21091940013379387,-0.6022526918356425 -0.10630707530483455,-1.2615106269506882 -0.7087138353655569,-1.4724300270844806 c-1.8198538746386816,-0.6372261789286896 -3.726140023546944,-0.9603072469203329 -5.666167113747611,-0.9603072469203329 c-9.451161199274912,0 -17.140090040090872,7.689082909041033 -17.140090040090872,17.140090040090872 s7.6889288408159535,17.140090040090872 17.140090040090872,17.140090040090872 s17.140090040090872,-7.689082909041033 17.140090040090872,-17.140090040090872 c0,-1.9404892948759065 -0.3230810679916487,-3.8469295120092477 -0.9603072469203329,-5.66632118197269 C-2.625266015796967,13.1413342236986 -3.2845239509120105,12.823953680034911 -3.8869307109727274,13.035027148393773 z M19.5377562983347,2.269972125641182 c-1.9401811584257482,0 -3.8464673073340085,0.3230810679916487 -5.666167113747611,0.9603072469203329 c-0.6022526918356425,0.21091940013379387 -0.9196332354993516,0.870177335248842 -0.7087138353655569,1.4724300270844806 c0.21076533190871424,0.6024067600607185 0.8703314034739227,0.9194791672742675 1.4724300270844806,0.7087138353655569 c1.5738069191867705,-0.5511020411092614 3.2231072686624804,-0.8304277331783406 4.902450922028685,-0.8304277331783406 c8.17670884141755,0 14.829066663898839,6.652357822481289 14.829066663898839,14.829066663898839 c0,8.17670884141755 -6.652357822481289,14.829066663898839 -14.829066663898839,14.829066663898839 c-8.17670884141755,0 -14.829066663898839,-6.652357822481289 -14.829066663898839,-14.829066663898839 c0,-1.6793436533662076 0.2793256920690792,-3.3287980710669958 0.8304277331783406,-4.902450922028685 c0.21091940013379387,-0.6022526918356425 -0.10630707530483455,-1.2615106269506882 -0.7087138353655569,-1.4724300270844806 c-0.6024067600607185,-0.21076533190871424 -1.2615106269506882,0.10646114352991379 -1.4724300270844806,0.7087138353655569 c-0.6373802471537636,1.8198538746386816 -0.9603072469203329,3.726140023546944 -0.9603072469203329,5.666167113747611 c0,9.451007131049833 7.6889288408159535,17.140090040090872 17.140090040090872,17.140090040090872 s17.140090040090872,-7.689082909041033 17.140090040090872,-17.140090040090872 S28.98891749760965,2.269972125641182 19.5377562983347,2.269972125641182 z M4.830557600473767,-12.346942592323238 c0.6022526918356425,-0.21091940013379387 0.9196332354993516,-0.870177335248842 0.7087138353655569,-1.4724300270844806 c-0.5509479728841846,-1.5736528509616905 -0.8304277331783406,-3.2231072686624804 -0.8304277331783406,-4.902450922028685 c0,-8.17670884141755 6.652357822481289,-14.829066663898839 14.829066663898839,-14.829066663898839 c8.17670884141755,0 14.829066663898839,6.652357822481289 14.829066663898839,14.829066663898839 s-6.652357822481289,14.829066663898839 -14.829066663898839,14.829066663898839 c-1.679497721591286,0 -3.328952139292075,-0.2793256920690792 -4.902450922028685,-0.8304277331783406 c-0.6022526918356425,-0.21076533190871424 -1.2615106269506882,0.10646114352991379 -1.4724300270844806,0.7087138353655569 c-0.21091940013379387,0.6024067600607185 0.10615300707975421,1.2615106269506882 0.7087138353655569,1.4725840953095601 c1.819545738188522,0.6372261789286896 3.7259859553218657,0.9603072469203329 5.666167113747611,0.9603072469203329 c9.451161199274912,0 17.140090040090872,-7.689082909041033 17.140090040090872,-17.140090040090872 S28.98891749760965,-35.86191358152727 19.5377562983347,-35.86191358152727 s-17.140090040090872,7.689082909041033 -17.140090040090872,17.140090040090872 c0,1.940027090200667 0.3230810679916487,3.8464673073340085 0.9603072469203329,5.666167113747611 C3.568892905297986,-12.453249667628072 4.2283049086381155,-12.135869123964369 4.830557600473767,-12.346942592323238 z M15.365126558507498,20.139729279708376 c0.08319684154291407,0.4766870883958807 0.24573881900175393,0.9262581691777638 0.47453013324476706,1.3342308291881972 l-5.149884491506313,5.150038559731392 c-0.4512658312577649,0.4512658312577649 -0.4512658312577649,1.1829358321601635 0,1.6340475951928441 c0.22570994974142344,0.22555588151634456 0.5215209418940019,0.3384878904995971 0.8171778658215028,0.3384878904995971 c0.295656923927503,0 0.5914679160800826,-0.11277794075817285 0.8171778658215028,-0.3384878904995971 l5.149884491506313,-5.149884491506313 c0.6111886488902495,0.3424936643516614 1.3149723010532632,0.538776583102903 2.0640520113896392,0.538776583102903 c2.3361364968799805,0 4.236876189685383,-1.9005856245803228 4.236876189685383,-4.236876189685383 c0,-0.7490797103363843 -0.19612885052616508,-1.4528633624993874 -0.538622514877824,-2.0640520113896392 l5.150038559731392,-5.150038559731392 c0.4512658312577649,-0.4512658312577649 0.4512658312577649,-1.1829358321601635 0,-1.6340475951928441 c-0.4512658312577649,-0.4512658312577649 -1.1827817639350768,-0.4512658312577649 -1.6342016634179224,0 l-5.150038559731392,5.149884491506313 c-0.4081267282355153,-0.22863724601793356 -0.8575437407923223,-0.3913332917018559 -1.3342308291881972,-0.47453013324476706 l-12.649155347249438,-12.649155347249438 c0.22309078991507186,-0.7088679035906359 0.3437262101522992,-1.4625696606793948 0.3437262101522992,-2.2440036982824596 c0,-0.7814340376030696 -0.12078948846230352,-1.5352898629169043 -0.34388027837737856,-2.2441577665075414 l12.649155347249438,-12.649155347249438 c0.4766870883958807,-0.08319684154291407 0.9261041009526885,-0.24573881900175393 1.3342308291881972,-0.47453013324476706 l5.150038559731392,5.149884491506313 c0.22570994974142344,0.22555588151634456 0.5215209418940019,0.3384878904995971 0.8171778658215028,0.3384878904995971 c0.295656923927503,0 0.5914679160800826,-0.11277794075817285 0.8171778658215028,-0.3384878904995971 c0.4512658312577649,-0.4512658312577649 0.4512658312577649,-1.1829358321601635 0,-1.6340475951928441 l-5.150038559731392,-5.150038559731392 c0.3424936643516614,-0.6111886488902495 0.538622514877824,-1.3149723010532632 0.538622514877824,-2.0640520113896392 c0,-2.33629056510506 -1.9007396928054043,-4.236876189685383 -4.236876189685383,-4.236876189685383 c-0.7490797103363843,0 -1.4527092942743083,0.19612885052616508 -2.0640520113896392,0.538622514877824 l-5.149884491506313,-5.149884491506313 c-0.45141989948284905,-0.4512658312577649 -1.1829358321601635,-0.4512658312577649 -1.6342016634179224,0 c-0.4512658312577649,0.4512658312577649 -0.4512658312577649,1.1829358321601635 0,1.6340475951928441 l5.149884491506313,5.150038559731392 c-0.22863724601793356,0.4081267282355153 -0.3913332917018559,0.8575437407923223 -0.47453013324476706,1.3342308291881972 l-12.649155347249438,12.649155347249438 c-0.7088679035906359,-0.22309078991507186 -1.4625696606793948,-0.3437262101522992 -2.2440036982824596,-0.3437262101522992 c-0.7814340376030696,0 -1.5352898629169043,0.12078948846230352 -2.2440036982824596,0.3437262101522992 l-12.649155347249438,-12.649155347249438 c-0.08319684154291407,-0.4766870883958807 -0.24573881900175393,-0.9261041009526885 -0.47453013324476706,-1.3342308291881972 l5.150038559731392,-5.150038559731392 c0.4512658312577649,-0.4512658312577649 0.4512658312577649,-1.1829358321601635 0,-1.6340475951928441 c-0.4512658312577649,-0.4512658312577649 -1.1827817639350768,-0.4512658312577649 -1.6342016634179224,0 l-5.150038559731392,5.149884491506313 c-0.6111886488902495,-0.3424936643516614 -1.3149723010532632,-0.538622514877824 -2.0640520113896392,-0.538622514877824 c-2.3361364968799805,0 -4.236876189685383,1.9005856245803228 -4.236876189685383,4.236876189685383 c0,0.7490797103363843 0.19612885052616508,1.4528633624993874 0.538622514877824,2.0640520113896392 l-5.149884491506313,5.150038559731392 c-0.4512658312577649,0.4512658312577649 -0.4512658312577649,1.1829358321601635 0,1.6340475951928441 c0.22570994974142344,0.22555588151634456 0.5215209418940019,0.3384878904995971 0.8171778658215028,0.3384878904995971 s0.5914679160800826,-0.11277794075817285 0.8171778658215028,-0.3384878904995971 l5.149884491506313,-5.149884491506313 c0.4081267282355153,0.22863724601793356 0.8576978090174034,0.3913332917018559 1.3343848974132788,0.47453013324476706 l12.649155347249438,12.649155347249438 c-0.22309078991507186,0.7088679035906359 -0.34388027837737856,1.4625696606793948 -0.34388027837737856,2.2441577665075414 c0,0.7814340376030696 0.12063542023722494,1.5351357946918234 0.3437262101522992,2.2440036982824596 l-12.649155347249438,12.649309415474518 c-0.4766870883958807,0.08319684154291407 -0.9262581691777638,0.24589288722683256 -1.3343848974132788,0.47453013324476706 l-5.149884491506313,-5.149884491506313 c-0.4512658312577649,-0.4512658312577649 -1.1827817639350768,-0.4512658312577649 -1.6342016634179224,0 c-0.4512658312577649,0.4512658312577649 -0.4512658312577649,1.1829358321601635 0,1.6340475951928441 l5.149884491506313,5.150038559731392 c-0.3424936643516614,0.6111886488902495 -0.538622514877824,1.3149723010532632 -0.538622514877824,2.0640520113896392 c0,2.33629056510506 1.9007396928054043,4.236876189685383 4.236876189685383,4.236876189685383 c0.7490797103363843,0 1.4528633624993874,-0.19612885052616508 2.0640520113896392,-0.538776583102903 l5.150038559731392,5.149884491506313 c0.22570994974142344,0.22555588151634456 0.5215209418940019,0.3384878904995971 0.8171778658215028,0.3384878904995971 s0.5914679160800826,-0.11277794075817285 0.8171778658215028,-0.3384878904995971 c0.4512658312577649,-0.4512658312577649 0.4512658312577649,-1.1829358321601635 0,-1.6340475951928441 l-5.150038559731392,-5.150038559731392 c0.22863724601793356,-0.4079726600104352 0.3913332917018559,-0.8573896725672446 0.47437606501968993,-1.3340767609631183 l12.649155347249438,-12.649309415474518 c0.7088679035906359,0.22309078991507186 1.4625696606793948,0.34388027837737856 2.2441577665075414,0.34388027837737856 s1.5352898629169043,-0.12078948846230352 2.2441577665075414,-0.34388027837737856 L15.365126558507498,20.139729279708376 zM19.5377562983347,17.48420935223868 c0.5290702849228985,0 1.0086846695952842,0.2146170375357017 1.3571869947250381,0.5611164757394275 c0.35420284945770086,0.3560516681586576 0.5686658187683219,0.8358201210561188 0.5686658187683219,1.3647363377539325 c0,1.0618382072477015 -0.8638605380205852,1.925852813493357 -1.925852813493357,1.925852813493357 c-0.5290702849228985,0 -1.0086846695952842,-0.2146170375357017 -1.3571869947250381,-0.5611164757394275 c-0.35420284945770086,-0.3560516681586576 -0.5686658187683219,-0.8358201210561188 -0.5686658187683219,-1.3647363377539325 C17.61190348484135,18.348069890259282 18.475764022861966,17.48420935223868 19.5377562983347,17.48420935223868 zM18.173019960580802,-20.078856467936383 c0.3560516681586576,-0.35420284945770086 0.8358201210561188,-0.5686658187683219 1.3647363377539325,-0.5686658187683219 c1.0619922754727813,0 1.925852813493357,0.8638605380205852 1.925852813493357,1.925852813493357 c0,0.5290702849228985 -0.2146170375357017,1.0086846695952842 -0.5611164757394275,1.3571869947250381 c-0.3560516681586576,0.35420284945770086 -0.8358201210561188,0.5686658187683219 -1.3647363377539325,0.5686658187683219 c-1.0619922754727813,0 -1.925852813493357,-0.8638605380205852 -1.925852813493357,-1.925852813493357 C17.61190348484135,-19.25073975813422 17.826520522377066,-19.73050821103169 18.173019960580802,-20.078856467936383 zM17.473704286945065,15.711808490924454 c-0.6837547829026828,0.38316767577264477 -1.2508799194202058,0.9501387440650876 -1.6340475951928441,1.6340475951928441 l-10.954713007825442,-10.954867076050526 c0.6250547891474053,-0.4574285602609469 1.1766190349319012,-1.0089928060454414 1.6340475951928441,-1.6340475951928441 L17.473704286945065,15.711808490924454 zM15.83965669175224,-16.657617461821676 c0.38316767577264477,0.6837547829026828 0.950292812290165,1.2508799194202058 1.6340475951928441,1.6340475951928441 l-10.954713007825442,10.954713007825442 c-0.4574285602609469,-0.6250547891474053 -1.0089928060454414,-1.1766190349319012 -1.6340475951928441,-1.6340475951928441 L15.83965669175224,-16.657617461821676 zM-18.59412940883373,-16.795970727943054 c-0.5290702849228985,0 -1.0086846695952842,-0.2146170375357017 -1.3571869947250381,-0.5611164757394275 c-0.35420284945770086,-0.3560516681586576 -0.5686658187683219,-0.8358201210561188 -0.5686658187683219,-1.3647363377539325 c0,-1.0619922754727813 0.8640146062456646,-1.925852813493357 1.925852813493357,-1.925852813493357 c0.5290702849228985,0 1.0086846695952842,0.2146170375357017 1.3571869947250381,0.5611164757394275 c0.35420284945770086,0.3560516681586576 0.5686658187683219,0.8358201210561188 0.5686658187683219,1.3647363377539325 C-16.66827659534038,-17.65983126596365 -17.53213713336094,-16.795970727943054 -18.59412940883373,-16.795970727943054 zM-16.529923329218988,-15.023723934853933 c0.6837547829026828,-0.38316767577264477 1.250725851195125,-0.9501387440650876 1.6338935269677637,-1.6340475951928441 l10.954867076050526,10.954867076050526 c-0.6250547891474053,0.4574285602609469 -1.1766190349319012,1.0089928060454414 -1.6340475951928441,1.6340475951928441 L-16.529923329218988,-15.023723934853933 zM-17.229393071079784,20.76724916045707 c-0.3560516681586576,0.35420284945770086 -0.8358201210561188,0.5686658187683219 -1.3647363377539325,0.5686658187683219 c-1.0618382072477015,0 -1.925852813493357,-0.8640146062456646 -1.925852813493357,-1.925852813493357 c0,-0.5290702849228985 0.2146170375357017,-1.0086846695952842 0.5611164757394275,-1.3571869947250381 c0.3560516681586576,-0.35420284945770086 0.8358201210561188,-0.5686658187683219 1.3647363377539325,-0.5686658187683219 c1.0619922754727813,0 1.925852813493357,0.8638605380205852 1.925852813493357,1.925852813493357 C-16.66827659534038,19.939132450654938 -16.88289363287607,20.418746835327298 -17.229393071079784,20.76724916045707 zM-14.895875734026163,17.34601015434238 c-0.38316767577264477,-0.6837547829026828 -0.950292812290165,-1.2508799194202058 -1.6340475951928441,-1.6340475951928441 l10.954713007825442,-10.954867076050526 c0.4574285602609469,0.6250547891474053 1.0089928060454414,1.1766190349319012 1.6340475951928441,1.6340475951928441 L-14.895875734026163,17.34601015434238 zM0.47181344475048803,5.523430834644309 c-2.8558086200730273,0 -5.179157454271411,-2.3235029024234652 -5.179157454271411,-5.179311522496489 c0,-2.855962688298106 2.323348834198384,-5.179311522496489 5.179157454271411,-5.179311522496489 c2.8558086200730273,0 5.179311522496489,2.3235029024234652 5.179311522496489,5.179311522496489 S3.327622064823551,5.523430834644309 0.47181344475048803,5.523430834644309 z",
		strokeColor: "#0863d8",
		strokeWeight: 1,
		fillColor: "#0863d8",
		fillOpacity: 1
	};
	this.frameIcon2 = {
		path:"M-29.367817044258118,0.3505760716291209 C-29.367817044258118,-1.2021005928997648 -28.110148945989728,-2.459768691168165 -26.557472281460832,-2.459768691168165 C-25.004795616931936,-2.459768691168165 -23.747127518663547,-1.2021005928997648 -23.747127518663547,0.3505760716291209 C-23.747127518663547,1.9032527361580058 -25.004795616931936,3.160920834426406 -26.557472281460832,3.160920834426406 C-28.110148945989728,3.160920834426406 -29.367817044258118,1.9032527361580058 -29.367817044258118,0.3505760716291209 z M-2.4712639302015305,-26.775862113943504 C-2.4712639302015305,-28.32853877847239 -1.2135958319331395,-29.58620687674079 0.3390808325957557,-29.58620687674079 C1.8917574971246514,-29.58620687674079 3.1494255953930406,-28.32853877847239 3.1494255953930406,-26.775862113943504 C3.1494255953930406,-25.22318544941462 1.8917574971246514,-23.965517351146218 0.3390808325957557,-23.965517351146218 C-1.2135958319331395,-23.965517351146218 -2.4712639302015305,-25.22318544941462 -2.4712639302015305,-26.775862113943504 z",
		strokeColor: '#f15f5f',
		strokeWeight: 1,
		fillColor: "#f15f5f",
		fillOpacity: 1
	};
	
	this.frameIcon24 = {
		path:"M-25.14285719394684,-0.5714285969734192 C-25.14285719394684,-1.676400972664027 -24.247829569637446,-2.571428596973419 -23.14285719394684,-2.571428596973419 C-22.03788481825623,-2.571428596973419 -21.14285719394684,-1.676400972664027 -21.14285719394684,-0.5714285969734192 C-21.14285719394684,0.5335437787171886 -22.03788481825623,1.4285714030265808 -23.14285719394684,1.4285714030265808 C-24.247829569637446,1.4285714030265808 -25.14285719394684,0.5335437787171886 -25.14285719394684,-0.5714285969734192 z M-1.9999997168779375,-24.85714226961136 C-1.9999997168779375,-25.962114645301966 -1.104972092568545,-26.85714226961136 2.8312206271086104e-7,-26.85714226961136 C1.1049726588126703,-26.85714226961136 2.0000002831220627,-25.962114645301966 2.0000002831220627,-24.85714226961136 C2.0000002831220627,-23.75216989392075 1.1049726588126703,-22.85714226961136 2.8312206271086104e-7,-22.85714226961136 C-1.104972092568545,-22.85714226961136 -1.9999997168779375,-23.75216989392075 -1.9999997168779375,-24.85714226961136 z",
		strokeColor: '#f15f5f',
		strokeWeight: 3
	};
	
	this.frameMarker1 = new google.maps.Marker({
		icon: this.frameIcon1,
		map: map.googlemap,
		optimized: false,
		zIndex: google.maps.Marker.MAX_ZINDEX + 1
	});
	
	this.frameMarker2 = new google.maps.Marker({
		icon: this.frameIcon2,
		map: map.googlemap,
		optimized: false,
		zIndex: google.maps.Marker.MAX_ZINDEX + 1
	});
	//---------------------------------------------
	this.drawUav = function() {
		try {
			this.frameIcon1.rotation = this.heading;
			this.frameMarker1.setIcon(this.frameIcon1);
			
			this.frameIcon2.rotation = 45 + this.heading;
			this.frameMarker2.setIcon(this.frameIcon2);
			
			this.frameMarker1.setPosition(this.currLocation);	
			this.frameMarker2.setPosition(this.currLocation);
		} catch(err) {
			console.log(">> [uav.drawUav()] " + err);
		}
	};	
	//----------------------------------------------
	this.currLocation = null;
	this.heading = 0;	
	this.setCurrLocation = function(latitude, longitude, heading) {
		try {
			this.currLocation = {lat:latitude, lng:longitude};
			this.heading = heading;
		} catch(err) {
			console.log(">> [uav.setCurrLocation()] " + err);
		}	
	};
	//---------------------------------------------
	this.headingLine = null;
	this.drawHeadingLine = function() {
		try {
			if(this.headingLine != null) {
				this.headingLine.setMap(null);
			}
			
			var endheadingLatLng = google.maps.geometry.spherical.computeOffset(
				new google.maps.LatLng(map.uav.currLocation), 
				2000, 
				this.heading
			);
			
			this.headingLine = new google.maps.Polyline({
				path: [
					this.currLocation,
					endheadingLatLng.toJSON()
				],
				strokeColor: '#FF0000',
				strokeOpacity: 1.0,
				strokeWeight: 2,
				map: map.googlemap
		    });
		} catch(err) {
			console.log(">> [uav.drawHeadingLine()] " + err);
		}
	};	
	//----------------------------------------------
	this.homeLocation = null;
	this.homeMarker = null;
	//---------------------------------------------
	this.goto = false;
	this.gotoMarker = null;
	this.gotoLocation = null;
	//---------------------------------------------
	this.mission = false;
	this.missionMarkers = [];
	this.missionPolylines = [];	
	this.nextLocation = null;	
	this.nextMarker = null;
	this.roiIndex = 0;
	//---------------------------------------------
	this.rtl = false;	
	//---------------------------------------------
	this.destLocation = null;
	this.destLine = null;	
	//---------------------------------------------
	this.drawDestLine = function() {
		try {
			if(this.goto == true) {
				this.destLocation = this.gotoMarker.getPosition().toJSON();
			} else if(this.mission == true) {
				this.destLocation = this.nextLocation;
			} else if(this.rtl == true) {
				this.destLocation = this.homeLocation;
			} else {
				this.destLocation = this.currLocation;
			}
			
			var bearing = google.maps.geometry.spherical.computeHeading(
				new google.maps.LatLng(this.currLocation), 
				new google.maps.LatLng(this.destLocation)
			);
			if(bearing<0) {
				bearing += 360;
			}
			
			var endbearingLatLng = google.maps.geometry.spherical.computeOffset(
				new google.maps.LatLng(this.currLocation), 
				2000, 
				bearing
			);
			
			if(this.destLine != null)  this.destLine.setMap(null);
			this.destLine = new google.maps.Polyline({
				path: [
					this.currLocation,
					endbearingLatLng.toJSON()
				],
				strokeColor: '#FF9900',
				strokeOpacity: 1.0,
				strokeWeight: 2,
				map: map.googlemap
		    });
		} catch(err) {
			console.log(">> [uav.drawDestLine()] " + err);
		}
	};		
	//---------------------------------------------
	this.setUavColor = function(color1, color2) {
		try {
			this.frameIcon1.strokeColor = color1;
			this.frameIcon2.strokeColor = color2;
			this.frameMarker1.setIcon(this.frameIcon1);
			this.frameMarker2.setIcon(this.frameIcon2);
		} catch(err) {
			console.log(">> [uav.setUavColor()] " + err);
		}
	};
	//---------------------------------------------
	this.setHomeLocation = function(latitude, longitude) {
		try {
			if(this.homeLocation == null || this.homeLocation.lat!=latitude || this.homeLocation.lng!=longitude) {
				this.homeLocation = {lat:latitude, lng:longitude};
				if(this.homeMarker != null) {
					this.homeMarker.setMap(null);
				}
				if(this.gotoMarker != null) {
					this.gotoMarker.setMap(null);
				}
				this.homeMarker = new google.maps.Marker({
					map: map.googlemap,
					position: this.homeLocation,
					label: {color:"#ffffff", text:"H"},
					optimized: false
				});

				map.googlemap.setCenter(map.uav.currLocation);
				map.googlemap.setZoom(18);
//				jsproxy.setZoomSliderValue(18);
			}
		} catch(err) {
			console.log(">> [uav.setHomeLocation()] " + err);
		}
	};	
	//---------------------------------------------
	this.gotoStop = function() {
		try {
			this.goto = false;
			if(this.gotoMarker != null) {
				this.gotoMarker.setMap(null);
			}
		} catch(err) {
			console.log(">> [uav.gotoStart()] " + err);
		}
	};
	//---------------------------------------------
	this.makeMissionMark = function(kind, lat, lng, index) {
		try {
			var marker = null;
			
			if(kind == "takeoff") {
				marker = new google.maps.Marker({
					position: map.uav.homeLocation
				});
				marker.kind = kind;
				marker.index = 0;
				this.missionMarkers.splice(marker.index,0,marker);
			} 
			
			else if(kind == "land") {
				marker = new google.maps.Marker({
					map: map.googlemap,
					position: {lat:lat, lng:lng},
					icon: {
//					  path: google.maps.SymbolPath.CIRCLE,
					  url: 'box.svg',
					  fillOpacity: 1,
					  fillColor: '#0f0',
					  strokeOpacity: 1,
					  strokeWeight: 1,
					  strokeColor: '#333',
					  scale: 12,
					  labelOrigin: new google.maps.Point(21,14)
					},
					draggable: true,
					optimized: false
				});
				marker.kind = kind;
				marker.index = this.missionMarkers.length;
				marker.setAnimation(google.maps.Animation.DROP);
				this.missionMarkers.push(marker);
				var self = this;
				marker.addListener('drag', function() {
					self.drawMissionPath();
				});
			} 
			
			else if(kind == "waypoint") {
				marker = new google.maps.Marker({
					map: map.googlemap,
					position: {lat:lat, lng:lng},
					icon: {
					  url: "marker.svg",
					  fillOpacity: 1,
					  fillColor: '#fff',
					  strokeOpacity: 1,
					  strokeWeight: 1,
					  strokeColor: '#333',
					  scale: 12,
					  labelOrigin: new google.maps.Point(14,14)
					},
					draggable: true,
					optimized: false
				});
				marker.kind = kind;
				marker.index = this.missionMarkers.length;
				marker.setAnimation(google.maps.Animation.DROP);
				this.missionMarkers.push(marker);
				var self = this;
				marker.addListener('drag', function() {
					self.drawMissionPath();
				});
			} 
			
			else if(kind == "rtl") {
				marker = new google.maps.Marker({
					position: map.uav.homeLocation
				});
				marker.kind = kind;
				marker.index = this.missionMarkers.length;
				this.missionMarkers.push(marker);
			}
			
			else if(kind == "roi") {
				marker = new google.maps.Marker({
					map: map.googlemap,
					position: {lat:lat, lng:lng},
					draggable: true,
					optimized: false
				});
				marker.kind = kind;
				marker.setAnimation(google.maps.Animation.DROP);
				if(index) {
					marker.index = index;
					this.missionMarkers.splice(marker.index,0,marker);
				} else {
					marker.index = this.missionMarkers.length;
					this.missionMarkers.push(marker);
				}
			}
			
			for(var i=0; i<this.missionMarkers.length; i++) {
				this.missionMarkers[i].index = i;
				if(this.missionMarkers[i].kind != "takeoff" && this.missionMarkers[i].kind != "rtl") {
					this.missionMarkers[i].setLabel({color: '#000', fontSize: '12px', fontWeight: '600', text: String(i+1)});
				}
			}
			
			this.drawMissionPath();
		} catch(err) {
			console.log(">> [uav.makeMissionMark()] " + err);
		}
	};
	//---------------------------------------------
	this.gotoStart = function(location) {
		try {
			this.goto = true;
			if(this.gotoMarker != null) {
				this.gotoMarker.setMap(null);
			} 
			this.gotoMarker = new google.maps.Marker({
				map: map.googlemap,
				position: location,
				optimized: false
			});
			this.missionStop();
			this.rtlStop();
			jsproxy.gotoStart(location);
		} catch(err) {
			console.log(">> [uav.gotoStart()] " + err);
		}
	};
	//---------------------------------------------
	this.missionStart = function() {
		this.mission = true;
		this.gotoStop();
		this.rtlStop();
	};
	//---------------------------------------------
	this.missionStop = function() {
		this.mission = false;
	};
	//---------------------------------------------
	this.rtlStart = function() {
		this.rtl = true;
		this.missionStop();
		this.gotoStop();
	};
	//---------------------------------------------
	this.rtlStop = function() {
		this.rtl = false;
	};	
	//---------------------------------------------
	this.removeMissionMark = function(index) {
		try {
			this.missionMarkers[index].setMap(null);
			this.missionMarkers.splice(index,1);
			for(var i=0; i<this.missionMarkers.length; i++) {
				this.missionMarkers[i].index = i;
				if(this.missionMarkers[i].kind != "takeoff" && this.missionMarkers[i].kind != "rtl") {
					this.missionMarkers[i].setLabel({color: '#000', fontSize: '12px', fontWeight: '600', text: String(i+1)});
				}
			}
			this.drawMissionPath();
		} catch(err) {
			console.log(">> [uav.gotoStart()] " + err);
		}
	};
	//---------------------------------------------
	this.clearMission = function() {
		try {
			for(var i=0; i<map.uav.missionMarkers.length; i++) {
				map.uav.missionMarkers[i].setMap(null);
			}
			map.uav.missionMarkers = [];
			for(var i=0; i<map.uav.missionPolylines.length; i++) {
				map.uav.missionPolylines[i].setMap(null);
			}
			map.uav.missionPolylines = [];	
		} catch(err) {
			console.log(">> [uav.clearMission()] " + err);
		}
	};
	//---------------------------------------------
	this.setMission = function(missionArr) {
		try {
			this.clearMission();
			for(var i=0; i<missionArr.length; i++) {
				this.makeMissionMark(missionArr[i].kind, missionArr[i].lat, missionArr[i].lng);
			}
		} catch(err) {
			console.log(">> [uav.setMission()] " + err);
		}
	};
	//---------------------------------------------
	this.setNextWaypointNo = function(nextWaypointNo) {
		try {
			if(this.mission == true) {
				if(1<=nextWaypointNo && (nextWaypointNo)<=this.missionMarkers.length) {
					this.nextLocation = this.missionMarkers[nextWaypointNo-1].getPosition().toJSON();
					this.nextMarker = this.missionMarkers[nextWaypointNo-1];
				}
			}
		} catch(err) {
			console.log(">> [uav.setNextWaypointNo()] " + err);
		}
	};
	//---------------------------------------------
	this.drawMissionPath = function() {
		try {
			for(var i=0; i<this.missionPolylines.length; i++) {
				this.missionPolylines[i].setMap(null);
			}
			this.missionPolylines = [];	
			
			var prevMarker = this.missionMarkers[0];
			var nextMarker = null;
			for(var i=1; i<this.missionMarkers.length; i++) {			 
				var polyline = new google.maps.Polyline({
//					strokeColor: '#1ea4ff',
					strokeColor: 'white',
					strokeOpacity: 1.0,
					strokeWeight: 3,
					map: map.googlemap
				});
				
				nextMarker = this.missionMarkers[i];
				
				if(nextMarker.kind == "roi") {
					continue;
				}
				else {
					polyline.setPath([prevMarker.getPosition(), nextMarker.getPosition()]);
				}				
				this.missionPolylines.push(polyline);
				prevMarker = nextMarker;
			}
		} catch(err) {
			console.log(">> [uav.drawMissionPath()] " + err);
		}
	};
	//Fence 관련 속성 및 메소드-----------------------------------------------------------
	this.fenceMarkers = [];
	this.makeFenceMark = function(lat, lng) {
		try {
			var image = {
	          url: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
	          size: new google.maps.Size(20, 32),
	          origin: new google.maps.Point(0, 0),
	          anchor: new google.maps.Point(0, 32)
	        };
			var marker = new google.maps.Marker({
				map: map.googlemap,
				position: {lat:lat, lng:lng},
				icon: image,
				draggable: true,
				optimized: false
			});
			var self = this;
			marker.addListener('drag', function() {
				self.drawFencePolygon();
			});
			this.fenceMarkers.push(marker);
			this.drawFencePolygon();
		} catch(err) {
			console.log(">> [uav.makeFenceMark()] " + err);
		}
	};
	this.setFence = function(fencePoints) {
		try {
			this.fenceClear();
			for(var i=0; i<fencePoints.length; i++) {
				this.makeFenceMark(fencePoints[i].lat, fencePoints[i].lng);
			}
		} catch(err) {
			console.log(">> [uav.setFence()] " + err);
		}
	};	
	this.removeFenceMark = function(index) {
		try {

		} catch(err) {
			console.log(">> [uav.removeFenceMark()] " + err);
		}
	};
	this.fenceClear = function() {
		try {
			if(this.fencePolygon != null) {
				this.fencePolygon.setMap(null);
			}
			for(var i=0; i<this.fenceMarkers.length; i++) {
				this.fenceMarkers[i].setMap(null);
			}
			this.fenceMarkers = [];
		} catch(err) {
			console.log(">> [uav.clearFence()] " + err);
		}
	};
	this.fencePolygon = null;
	this.drawFencePolygon = function() {
		try {
			var coords = [];
			for(var i=0; i<this.fenceMarkers.length; i++) {
				coords.push(this.fenceMarkers[i].getPosition());
			}
			if(this.fencePolygon != null) {
				this.fencePolygon.setMap(null);
			}
			this.fencePolygon = new google.maps.Polygon({
				map: map.googlemap,
				paths: coords,
				strokeColor: '#FF0000',
				strokeOpacity: 0.8,
				strokeWeight: 2,
				//fillColor: '#00ff00',
		        fillOpacity: 0.15
			});
			
			this.fencePolygon.addListener('click', function(e) {
				if(map.gotoMake == true) {
					var clickLocation = {lat:e.latLng.lat(), lng:e.latLng.lng()};
					map.uav.gotoStart(clickLocation);
				} else if(map.missionMake == true) {
					map.uav.makeMissionMark("waypoint", e.latLng.lat(), e.latLng.lng());
				} else if(map.roiMake == true) {
					map.uav.makeMissionMark("roi", e.latLng.lat(), e.latLng.lng(), map.uav.roiIndex);
					jsproxy.addROI({lat:e.latLng.lat(), lng:e.latLng.lng()});
					map.roiMake = false;
				} else if(map.landMake == true){
					map.uav.makeMissionMark("land", e.latLng.lat(), e.latLng.lng());
					map.landMake = false;
				}
			});
		} catch(err) {
			console.log(">> [uav.drawFencePolygon()] " + err);
		}
	};
	var circleDraw;
	this.makeNoflyzone = function(x,y,r){
		  	this.circleDraw = new google.maps.Circle({
			map: map.googlemap,
		    center: {lat:x, lng:y},
		    zoom: 7,
		    radius: r,
		    strokeColor: "#0000FF",
		    strokeOpacity: 0.9,
		    strokeWeight: 2,
		    fillColor: "#0000FF",
		    fillOpacity: 0.5,
			optimized: false
		  });
	};
	this.deleteNoflyzone = function(){
		this.circleDraw.setMap(null);
	};
}






